# ============================================================
# SME PULSE - ENVIRONMENT VARIABLES
# ============================================================
# Copy this file to .env and customize for your environment
# DO NOT commit .env to version control

# ===== POSTGRESQL (Data Lakehouse) =====
POSTGRES_USER=sme
POSTGRES_PASSWORD=your-secure-password-here
POSTGRES_DB=sme
POSTGRES_PORT=5432

# ===== POSTGRESQL (Application OLTP Database) =====
BACKEND_DB_HOST=postgres_application_db
BACKEND_DB_PORT=5432
BACKEND_DB_NAME=sme_pulse_oltp
BACKEND_DB_USER=postgres
BACKEND_DB_PASSWORD=your-secure-password-here
BACKEND_POOL_SIZE=20
BACKEND_MAX_OVERFLOW=10

# ===== REDIS (Cache & Celery Broker) =====
REDIS_PORT=6379
REDIS_PASSWORD=

# ===== MINIO (Object Storage) =====
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=your-secure-password-here
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001
MINIO_ENDPOINT=minio:9000
MINIO_BUCKET=sme-lake

# ===== TRINO (Query Engine) =====
TRINO_HOST=trino
TRINO_PORT=8080
TRINO_TIMEOUT=40

# ===== HIVE METASTORE (Iceberg Catalog) =====
HIVE_METASTORE_PORT=9083

# ===== AIRFLOW (Orchestration) =====
AIRFLOW_UID=50000
AIRFLOW__CORE__LOAD_EXAMPLES=False
AIRFLOW__CORE__EXECUTOR=LocalExecutor
AIRFLOW__DATABASE__SQL_ALCHEMY_CONN=postgresql+psycopg2://sme:your-password@postgres:5432/sme
AIRFLOW__WEBSERVER__SECRET_KEY=your-airflow-secret-key-here
AIRFLOW__CORE__FERNET_KEY=your-fernet-key-here

# ===== METABASE (BI Dashboard) =====
METABASE_PORT=3000
METABASE_SECRET_KEY=your-metabase-secret-key-here

# ===== BACKEND API (FastAPI) =====
BACKEND_PORT=8000
BACKEND_SECRET_KEY=your-jwt-secret-key-use-openssl-rand-hex-32
BACKEND_ALGORITHM=HS256
BACKEND_ACCESS_TOKEN_EXPIRE_MINUTES=30
BACKEND_ENVIRONMENT=development
BACKEND_DEBUG=true
BACKEND_LOG_LEVEL=INFO

# CORS Settings
BACKEND_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173,http://localhost:8000

# ===== FRONTEND (React + Vite) =====
VITE_API_BASE_URL=http://localhost:8000
VITE_METABASE_URL=http://localhost:3000

# ===== DBT (Data Transformation) =====
DBT_PROFILES_DIR=/dbt
DBT_TARGET=dev

# ===== ML TRAINING =====
MLFLOW_TRACKING_URI=file:///tmp/airflow_mlflow
PROPHET_TRAINING_WINDOW_DAYS=90
PROPHET_FORECAST_HORIZON_DAYS=30
ISOLATION_FOREST_TRAINING_WINDOW_DAYS=180
ISOLATION_FOREST_CONTAMINATION=0.05

# ===== EXTERNAL DATA SOURCES =====
# World Bank API
WORLD_BANK_API_URL=https://api.worldbank.org/v2

# Vietnam Provinces API
VN_PROVINCES_API_URL=https://provinces.open-api.vn/api

# ===== SECURITY =====
# Generate secure keys:
# openssl rand -hex 32
# python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"

# ===== OPTIONAL - KAGGLE DATA =====
KAGGLE_USERNAME=your-kaggle-username
KAGGLE_KEY=your-kaggle-api-key
